---
layout: base
---

<article class="work brush-reveal evaporate"
         itemscope
         itemtype="https://schema.org/{{ page.schema_type | default: 'CreativeWork' }}">

  {% if page.title %}
    <h1 class="sr-only">{{ page.title }}</h1>
  {% endif %}

  <main class="page-gradient" 
        style="--collection-color: {{ page.base_color }}; --collection-color-light: {{ page.light_color }};">
    
    <div class="work-body" itemprop="text">
      {{ content | newline_to_br }}
    </div>

    {% include navigation.html %}
  </main>

  <div id="mediaHeroPopup">
    <img src="{{ page.media_hero }}" alt="{{ page.media_alt | default: 'Media Hero' }}">
  </div>

  <span id="excerpt-text" style="display:none;">{{ page.excerpt }}</span>

</article>

{% if page.citation %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "citation": "{{ page.citation }}"
}
</script>
{% endif %}

<script>
// Voice Logic: Kept here as it's a specific page feature
function speakExcerpt() {
  const excerptElement = document.getElementById('excerpt-text');
  if (!excerptElement) return;
  const text = excerptElement.textContent.trim();
  if (!text || !('speechSynthesis' in window)) return;

  const utterance = new SpeechSynthesisUtterance(text);
  window.speechSynthesis.cancel(); 
  window.speechSynthesis.speak(utterance);
}

document.addEventListener('keydown', (e) => {
  if (e.key.toLowerCase() === 'e') speakExcerpt();
});
</script>
